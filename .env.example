# Core service configuration

# Postgres
POSTGRES_DB=idp
POSTGRES_USER=idp
POSTGRES_PASSWORD=changeme
POSTGRES_PORT=5432
POSTGRES_HOST=postgres

# Redis
REDIS_PORT=6379
REDIS_URL=redis://redis:6379/0

# MinIO
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001

# API
API_PORT=8000

# Web
WEB_PORT=3000

# API Auth / DB
# If DATABASE_URL is empty, the app will assemble it from POSTGRES_* vars
DATABASE_URL=
JWT_SECRET=change-this-in-prod
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60

# Object Storage (S3/MinIO)
S3_ENDPOINT_URL=http://minio:9000
S3_PUBLIC_ENDPOINT_URL=http://localhost:9000
S3_REGION=us-east-1
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_BUCKET=idp
S3_USE_SSL=false
DOWNLOAD_URL_EXPIRE_SECONDS=3600
S3_CORS_ALLOW_ORIGIN=http://localhost:3000

# Local JSON persistence
DATA_DIR=data
MAX_UPLOAD_MB=50
MAX_PARAMS_MB=5

# Admin bootstrap (dev only)
# Set a secret to allow promoting a user to superadmin via
# POST /api/v1/admin/bootstrap_superadmin {"email":"...","secret":"..."}
BOOTSTRAP_SUPERADMIN_SECRET=

# Default superadmin (dev convenience). If set, the api will
# ensure a user exists with these credentials and superadmin role.
# Do NOT use in production.
DEFAULT_SUPERADMIN_EMAIL=
DEFAULT_SUPERADMIN_PASSWORD=
DEFAULT_SUPERADMIN_ORG=default

# Evaluations
WEBHOOK_SECRET=
